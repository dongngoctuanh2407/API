@model SKTReportViewModel
@{
    //Layout = "~/views/shared/_layout.cshtml";
    Layout = "~/Views/Shared/_LayoutWebNew.cshtml";

    ViewBag.Title = "Danh sách báo cáo nhu cầu - số kiểm tra năm " + PhienLamViec.iNamLamViec;

    var a = PhienLamViec.userRole;

    var items = new List<MenuItem>();

    if (Model.loai == "1")
    {
        items = new List<MenuItem>
        {

            new MenuItem
            {
                id = "TK1",
                name = "Xác nhận số liệu đơn vị làm căn cứ lâp nhu cầu ngân sách năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK01"),
                note = "NSSD",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" || PhienLamViec.iID_MaPhongBan == "02",
            },
            new MenuItem
            {
                id = "TK2",
                name = "Xác nhận số liệu ngành làm căn cứ lâp nhu cầu ngân sách năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK02"),
                note = "NSBD",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" || PhienLamViec.iID_MaPhongBan == "02",
            },
            new MenuItem
            {
                id = "TK4",
                name = "Tổng hợp số liệu tăng/giảm ngân sách sử dụng mục 00 năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK04"),
                note = "NSSD-00",
                is_disable = PhienLamViec.iID_MaPhongBan == "11",
            },
            new MenuItem
            {
                id = "TK5",
                name = "Tổng hợp số liệu tăng/giảm ngành nghiệp vụ năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK05"),
                note = "NSSD-NV",
                is_disable = PhienLamViec.iID_MaPhongBan == "11",
            },
            new MenuItem
            {
                id = "TK6",
                name = "Tổng hợp số liệu tăng/giảm ngành nghiệp vụ năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK06"),
                note = "Chênh lệch",
                is_disable = PhienLamViec.iID_MaPhongBan == "11" || PhienLamViec.iID_MaPhongBan == "02",
            },
            new MenuItem
            {
                id = "TK7",
                name = "Xác nhận số phân bổ số kiểm tra NSSD năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK07"),
                note = "NSSD-TK",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
            new MenuItem
            {
                id = "TK8",
                name = "Xác nhận số phân bổ số kiểm tra NSBĐ năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TK08"),
                note = "NSBĐ-TK",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
        };
    }
    else if (Model.loai == "2")
    {
        items = new List<MenuItem>
        {
            new MenuItem
            {
                id = "IK01",
                name = "In kiểm dự toán nhu cầu ngân sách năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với đơn vị trực thuộc Bộ)",
                url = Url.Action("Index", "rptNCSKT_IK01"),
                note = "NSSD"
            },
            new MenuItem
            {
                id = "IK02",
                name = "In kiểm dự toán nhu cầu ngân sách năm " + PhienLamViec.iNamLamViec + " (Áp dụng ngành bảo đảm)",
                url = Url.Action("Index", "rptNCSKT_IK02"),
                note = "NSBD"
            },
            new MenuItem
            {
                id = "IK03",
                name = "Báo cáo tổng hợp xây dựng số kiểm tra ngân sách năm " + PhienLamViec.NamLamViec,
                url = Url.Action("Index", "rptNCSKT_IK03"),
                note = "",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" && PhienLamViec.iID_MaPhongBan != "02" && PhienLamViec.userRole != (int)UserRoleType.TroLyTongHop,
            },
            new MenuItem
            {
                id = "IK04",
                name = "Báo cáo chi tiết ngành nghiệp vụ xây dựng số kiểm tra ngân sách năm " + PhienLamViec.NamLamViec,
                url = Url.Action("Index", "rptNCSKT_IK04"),
                note = "",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" && PhienLamViec.iID_MaPhongBan != "02" && PhienLamViec.userRole != (int)UserRoleType.TroLyTongHop,
            },
            new MenuItem
            {
                id = "IK05",
                name = "Báo cáo chi tiết số kiểm tra năm " + (PhienLamViec.NamLamViec - 1) + " và số kiểm tra ngân sách năm " + PhienLamViec.NamLamViec,
                url = Url.Action("Index", "rptNCSKT_IK05"),
                note = "",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" && PhienLamViec.iID_MaPhongBan != "02" && PhienLamViec.userRole != (int)UserRoleType.TroLyTongHop,
            },
            new MenuItem
            {
                id = "IK06",
                name = "Báo cáo chi tiết nhu cầu đơn vị và số kiểm tra ngân sách năm " + PhienLamViec.NamLamViec,
                url = Url.Action("Index", "rptNCSKT_IK06"),
                note = "",
                is_disable = PhienLamViec.iID_MaPhongBan != "11" && PhienLamViec.iID_MaPhongBan != "02" && PhienLamViec.userRole != (int)UserRoleType.TroLyTongHop,
            },
            new MenuItem
            {
                id = "IK99",
                name = "Báo cáo danh sách đơn vị đã có số kiểm tra ngân sách năm " + PhienLamViec.NamLamViec,
                url = Url.Action("Print", "rptNCSKT_IK99", new { loai = 1, ext = "pdf"}),
                note = "",
                is_disable = PhienLamViec.iID_MaPhongBan != "11",
            },
        };
    }
    else if (Model.loai == "3")
    {
        items = new List<MenuItem>
        {
            new MenuItem
            {
                id = "TH01",
                name = "Lập phương án phân bổ số kiểm tra ngân sách sử dụng năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với đơn vị trực thuộc Bộ)",
                url = Url.Action("Index", "rptNCSKT_TH01"),
                note = "KT-ĐV"
            },

            new MenuItem
            {
                id = "TH02",
                name = "Lập phương án phân bổ số kiểm tra ngân sách ngành năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với ngành nghiệp vụ toàn quân)",
                url = Url.Action("Index", "rptNCSKT_TH02"),
                note = "KT-NG"
            },

            new MenuItem
            {
                id = "TH13",
                name = "Lập phương án phân bổ số kiểm tra ngân sách sử dụng năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với khối bệnh viện)",
                url = Url.Action("Index", "rptNCSKT_TH13"),
                note = "KT-ĐV-BV"
            },

            new MenuItem
            {
                id = "TH05",
                name = "Tổng hợp phân bổ số kiểm tra ngân sách ngành năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH05"),
                note = "KT-TH",
                is_disable = !User.Identity.Name.EndsWith("b2") && PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH06",
                name = "Tổng hợp phân bổ số chênh lệch bảo đảm kĩ thuật dự toán 2018, số kiểm tra 2020 và số kiểm tra năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH06"),
                note = "Phục vụ tổng hợp số bảo đảm kĩ thuật/quân binh chủng",
                is_disable = (!User.Identity.Name.EndsWith("b2") && PhienLamViec.userRole != 7) && PhienLamViec.iID_MaPhongBan != "11",
            },

            new MenuItem
            {
                id = "TH07",
                name = "Tổng hợp phân bổ số chênh lệch ngành dự toán 2018, số kiểm tra 2020 và số kiểm tra năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH07"),
                note = "Phục vụ tổng hợp số nghiệp vụ ngành",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH08",
                name = "Tổng hợp phân bổ số chênh lệch ngành dự toán 2018, số kiểm tra 2020 và số kiểm tra năm " + PhienLamViec.iNamLamViec + " theo đơn vị",
                url = Url.Action("Index", "rptNCSKT_TH08"),
                note = "Phục vụ tổng hợp số nhu cầu đơn vị",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH09",
                name = "B2 lập phương án phân bổ số kiểm tra ngân sách sử dụng năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với đơn vị trực thuộc Bộ)",
                url = Url.Action("Index", "rptNCSKT_TH09"),
                note = "Phục vụ tổng hợp số nhu cầu đơn vị b2 đề nghị gửi Bql",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
            new MenuItem
            {
                id = "TH14",
                name = "Tổng hợp phương án phân bổ số kiểm tra ngân sách sử dụng năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với đơn vị trực thuộc Bộ)",
                url = Url.Action("Index", "rptNCSKT_TH14"),
                note = "Check",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH10",
                name = "B2 lập phương án phân bổ số kiểm tra ngân sách ngành năm " + PhienLamViec.iNamLamViec + " (Áp dụng đối với ngành nghiệp vụ toàn quân)",
                url = Url.Action("Index", "rptNCSKT_TH10"),
                note = "Phục vụ tổng hợp số nhu cầu đơn vị b2 đề nghị gửi Bql",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH11",
                name = "Tổng hợp số kiểm tra bql đề nghị và số dự kiến năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH11"),
                note = "",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
            new MenuItem
            {
                id = "TH12",
                name = "Tổng hợp số kiểm tra theo đợt bổ sung",
                url = Url.Action("Index", "rptNCSKT_TH12"),
                note = "Check",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
            new MenuItem
            {
                id = "TH99",
                name = "Tổng hợp số liệu số kiểm tra năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH99"),
                note = "TH_Page",
                is_disable = PhienLamViec.iID_MaPhongBan == "11" && PhienLamViec.iID_MaPhongBan == "02",
            },

            new MenuItem
            {
                id = "TH03",
                name = "Tổng hợp phân bổ số kiểm tra ngân sách năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH03"),
                note = "Tài liệu báo cáo Bộ",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH04",
                name = "Tổng hợp phân bổ số kiểm tra ngân sách năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH04"),
                note = "Phục vụ TT Cục họp làm việc với BQL,B2",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },

            new MenuItem
            {
                id = "TH15",
                name = "Tổng hợp phân bổ dự toán ngân sách quốc phòng năm " + PhienLamViec.iNamLamViec,
                url = Url.Action("Index", "rptNCSKT_TH15"),
                note = "Chi tiết theo ngành bảo đảm",
                is_disable = !User.Identity.Name.EndsWith("b2") || PhienLamViec.userRole != 7,
            },
        };
    }
    else if (Model.loai == "4")
    {
        items = new List<MenuItem>
        {
            new MenuItem{
            id="PL01",
            name = "Thông báo số kiểm tra ngân sách sử dụng năm " + PhienLamViec.iNamLamViec,
            url = Url.Action("Index", "rptNCSKT_PL01"),
            note = "TBKT-NSSD",
            is_disable = PhienLamViec.iID_MaPhongBan != "11",
            },
        new MenuItem{
            id="PL02",
            name = "Thông báo tổng hợp số kiểm tra dự toán ngân sách năm " + PhienLamViec.iNamLamViec,
            url = Url.Action("Index", "rptNCSKT_PL02"),
            note = "TB-NG",
            is_disable = PhienLamViec.iID_MaPhongBan != "11" && User.Identity.Name != "chinp",
        },
        new MenuItem{
            id="PL03",
            name = "Thông báo chi tiết phân cấp số kiểm tra dự toán ngân sách (Các ngành bảo đảm) năm " + PhienLamViec.iNamLamViec,
            url = Url.Action("Index", "rptNCSKT_PL03", new { LoaiBaoCao = 1 }),
            note = "TBKT-NG",
            is_disable = PhienLamViec.iID_MaPhongBan != "11" && User.Identity.Name != "chinp",
        },
        };
    }

}
    @Html.Partial("_report_table", items)
