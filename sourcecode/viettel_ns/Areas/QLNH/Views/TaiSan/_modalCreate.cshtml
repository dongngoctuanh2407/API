@using Viettel.Models.QLNH
@using VIETTEL.Helpers
@using Viettel.Domain.DomainModel
@model QuyetToan_ChungTuTaiSanModel

<div class="modal-body">
    <div class="form-group">
        <div>
            <h4 class="color-text-red">Thông tin chứng từ:</h4>
            <hr class="color-background-red">
        </div>
        <div class="form-group row">
            <div class="col-sm-3">
                <label for="txttenchungtu">Tên chứng từ</label>
                <input type="text" id="txtsTenChungTu" class="form-control" value="" />
            </div>
            <div class="col-sm-3">
                <label for="txtsochungtu">Số chứng từ</label>
                @Helpers.Required()
                <input type="text" id="txtsSoChungTu" class="form-control" value="" />
            </div>
            <div class="col-sm-3">
                <label for="dngaychungtu">Ngày chứng từ</label>
                <div class='input-group date'>
                    <input type="text" id="txtdNgayChungTu" class="form-control" value="" autocomplete="off" placeholder="dd/MM/yyyy" />
                    <span class="btn-default input-group-addon">
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div>
            <h4 class="color-text-red">Thông tin tài sản:</h4>
            <hr class="color-background-red">
        </div>
        <div class="row" style="margin-right: 0px">
            <label for="btn">&nbsp;</label>
            <div class="input-group pull-right">
                <div class="input-group-append">
                    <button class="btn btn-primary pull-right" style="margin-right:10px;" onclick="ThemMoiTaiSan('@ViewBag.ListLoaiTaiSan')"><i class="fa fa-plus"></i>Thêm mới</button>
                </div>
            </div>
        </div>
        <div style=" overflow-x : auto">
            <table class="table table-bordered table-update " id="tbListTaiSan">
                <thead>
                <th style="white-space: nowrap">STT</th>
                <th style="white-space: nowrap">Mã tài sản</th>
                <th style="white-space: nowrap">Tên tài sản</th>
                <th style="white-space: nowrap">Loại tài sản</th>
                <th style="white-space: nowrap">Mô tả</th>
                <th style="white-space: nowrap">Ngày bắt đầu sử dụng</th>
                <th style="white-space: nowrap">Tình trạng sử dụng</th>
                <th style="white-space: nowrap">Số lượng</th>
                <th style="white-space: nowrap">Đơn vị tính</th>
                <th style="white-space: nowrap">Nguyên giá</th>
                <th style="white-space: nowrap">Trạng thái sử dụng</th>
                <th style="white-space: nowrap">Đơn vị sử dụng</th>
                <th style="white-space: nowrap">Thuộc dự án</th>
                <th style="white-space: nowrap">Thuộc hợp đồng</th>
                </thead>
                <tbody id="bodytable_create">
                    @{ int index = 0;

                        index++;
                        <tr style="cursor: pointer">
                            <td align="center">@index </td>
                            <td align="left"> <input type="text" id="txtsMaTaiSan" name="sMaTaiSan" class="form-control tablethin" value="" /></td>

                            <td align="left"> <input type="text" id="txtsTenTaiSan" name="sTenTaiSan" class="form-control tablethin" value="" /></td>

                            <td align="left">
                                <select name="iLoaiTaiSan" id="txtiLoaiTaiSan" class="form-control tablethin">
                                    @{
                                        foreach (var taisan in (List<Dropdown_ChungTuTaiSan>)ViewBag.ListLoaiTaiSan)
                                        {
                                            <option value="@taisan.valueId" data-loaitaisan="@taisan.valueId">@taisan.labelName</option>
                                        }
                                    }
                                </select>

                            </td>

                            <td align="left"> <input type="text" id="txtsMoTaTaiSan" name="sMoTaTaiSan" class="form-control tablethin" value="" /></td>

                            <td align="center">
                                <div class='input-group date'>
                                    <input type="text" id="txtdNgayBatDauSuDung" name="dNgayBatDauSuDung" class="form-control tablethin" value="" autocomplete="off" placeholder="dd/MM/yyyy" />
                                    <span class="btn-default input-group-addon input-calendar">
                                        <i class="fa fa-calendar " aria-hidden="true"></i>
                                    </span>
                                </div>
                            </td>

                            <td align="left">
                                <select name="iTrangThai" id="txtiTrangThai" class="form-control tablethin">
                                    @{
                                        foreach (var tinhtrang in (List<Dropdown_ChungTuTaiSan>)ViewBag.ListTinhTrang)
                                        {
                                            <option value="@tinhtrang.valueId" data-tinhtrang="@tinhtrang.valueId">@tinhtrang.labelName</option>
                                        }
                                    }
                                </select>
                            </td>

                            <td align="center"> <input type="text" id="txtfSoLuong" name="fSoLuong" class="form-control tablethin" value="" min="0" onkeydown="ValidateNumberKeyDown(event);" /></td>

                            <td align="center"> <input type="text" id="txtsDonViTinh" name="sDonViTinh" class="form-control tablethin" value="" /></td>

                            <td align="left"> <input type="text" id="txtfNguyenGia" name="fNguyenGia" class="form-control tablethin" value="" min="0" onkeydown="ValidateNumberKeyDown(event);" /></td>

                            <td align="left">
                                <select name="iTinhTrangSuDung" class="form-control  tablethin">
                                    @{
                                        foreach (var tinhtrang in (List<Dropdown_ChungTuTaiSan>)ViewBag.ListTinhTrangSuDung)
                                        {
                                            <option value="@tinhtrang.valueId" data-tinhtrangsudung="@tinhtrang.valueId">@tinhtrang.labelName</option>
                                        }
                                    }
                                </select>
                            </td>

                            <td align="left">
                                <select name="iID_DonViID" class="form-control listdonvi  tablethin">
                                    @{
                                        foreach (var donvi in (List<NS_DonVi>)ViewBag.ListThongTinDonVi)
                                        {
                                            <option value="@donvi.iID_Ma" data-madonvi="@donvi.iID_MaDonVi"> @donvi.sTen</option>
                                        }
                                    }
                                </select>
                            </td>

                            <td align="left">
                                <select name="iID_DuAnID" class="form-control listduan tablethin">
                                    @{
                                        foreach (var duan in (List<NH_DA_DuAn>)ViewBag.ListThongTinDuAn)
                                        {
                                            <option value="@duan.ID" data-loaitaisan="@duan.ID">@duan.sTenDuAn</option>
                                        }
                                    }

                                </select>
                            </td>

                            <td align="left">
                                <select name="iID_HopDongID" id="txtiID_HopDongID" class="form-control listhopdong  tablethin">
                                    @{
                                        foreach (var hopdong in (List<NH_DA_HopDong>)ViewBag.ListThongTinHopDong)
                                        {
                                            <option value="@hopdong.ID" data-hopdong="@hopdong.ID">@hopdong.sTenHopDong</option>
                                        }
                                    }
                                </select>
                            </td>
                            <td><button class='btn-delete btn-icon' type='button' onclick='DeleteItem()'><i class='fa fa-trash' aria-hidden='true'></i> Xóa</button></td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>

    </div>
    <div class="modal-footer">
        <div class="text-center">
            <button class="btn btn-default" onclick="back()"><i class="fa fa-ban" aria-hidden="true"></i><span>Hủy</span></button>
            <button class="btn btn-primary" onclick="Save()"><i class="fa fa-download" aria-hidden="true"></i><span>Lưu</span></button>
        </div>
    </div>
</div>
<style>
    .input-calendar{
        padding : 0px
    }
    .tablethin {
        min-width: 150px !important;
    }
</style>
<script>
    $(document).ready(function () {
        RefreshBindingSelect2();
    });
</script>