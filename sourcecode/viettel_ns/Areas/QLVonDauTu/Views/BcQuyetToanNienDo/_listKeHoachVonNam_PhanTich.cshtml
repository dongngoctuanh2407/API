
@using Viettel.Models.QLVonDauTu
@using System.Globalization;
@model List<BcquyetToanNienDoVonNamPhanTichChiTietViewModel>
<table class="table table-bordered table-parent" style="margin-bottom: 0px">
    <thead>
        <tr>
            <th rowspan="3">STT</th>
            <th rowspan="3">Tên dự án, công trình</th>
            <th colspan="9">Dự toán được giao</th>
            <th colspan="3">Số được cấp</th>
            <th colspan="3">Số đề nghị quyết toán</th>
            <th colspan="8">Kế hoạch vốn đầu tư chưa quyết toán đề nghị chuyển năm sau</th>
            <th rowspan="3">Dự toán thu hồi do hết nhiệm vụ </th>
        </tr>
        <tr>
            <th colspan="5">Năm trước chuyển sang (nếu có)</th>
            <th colspan="3">Dự toán được giao</th>
            <th rowspan="2">Tổng cộng</th>
            <th rowspan="2">Năm trước chuyển sang (nếu có)</th>
            <th rowspan="2">Năm nay</th>
            <th rowspan="2">Cộng</th>
            <th rowspan="2">Năm trước chuyển sang (nếu có)</th>
            <th rowspan="2">Năm nay</th>
            <th rowspan="2">Cộng</th>
            <th rowspan="2">Tổng số</th>
            <th colspan="3">Tạm ứng theo chế độ chưa thu hồi</th>
            <th colspan="4">Dự toán còn dư chưa giải ngân</th>
        </tr>
        <tr>
            <th>Dự toán còn dư tại Kho bạc</th>
            <th>Tồn khoản tại đơn vị</th>
            <th>Dự toán còn dư tại Cục Tài chính</th>
            <th>Đã tạm ứng theo chế độ chưa thu hồi</th>
            <th>Cộng</th>
            <th>Giao dự toán tại kho bạc</th>
            <th>Cấp bằng ủy nhiệm chi</th>
            <th>Cộng</th>
            <th>Cộng</th>
            <th>Cục Tài chính cấp tạm ứng chưa thu hồi</th>
            <th>Số tạm ứng chưa thu hồi do đơn vị cấp theo ủy quyền</th>
            <th>Cộng</th>
            <th>Tại Cục Tài chính</th>
            <th>Tồn khoản tại đơn vị</th>
            <th>Tại Kho bạc</th>
        </tr>
        <tr>
            <th>A</th>
            <th>B</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5=1+2+3+4</th>
            <th>6</th>
            <th>7</th>
            <th>8=6+7</th>
            <th>9=5+8</th>
            <th>10</th>
            <th>11</th>
            <th>12=10+11</th>
            <th>13</th>
            <th>14</th>
            <th>15=13+14</th>
            <th>16=17+20</th>
            <th>17=18+19</th>
            <th>18</th>
            <th>19</th>
            <th>20=21+22+23</th>
            <th>21</th>
            <th>22</th>
            <th>23</th>
            <th>24</th>
        </tr>
    </thead>
    <tbody>
        @{ int i = 0; }
        @foreach (var item in Model)
        {
            { i = i + 1; }
            <tr data-iIdDuAn="@item.IIDDuAnID">
                <td>@i</td>
                <td>@item.STenDuAn</td>
                <td class="FDuToanCnsChuaGiaiNganTaiKbNamTruoc">@item.FDuToanCnsChuaGiaiNganTaiKbNamTruoc</td>
                <td class="FDuToanCnsChuaGiaiNganTaiDvNamTruoc">@item.FDuToanCnsChuaGiaiNganTaiDvNamTruoc</td>
                <td class="FDuToanCnsChuaGiaiNganTaiCucNamTruoc">@item.FDuToanCnsChuaGiaiNganTaiCucNamTruoc</td>
                <td class="FDaTamUngTheoCheDoChuaThuHoi">@item.FDaTamUngTheoCheDoChuaThuHoi</td>
                <td class="FSumDuToanDuocGiaoNamTruocChuyenSang">@item.FSumDuToanDuocGiaoNamTruocChuyenSang</td>
                <td class="FChiTieuNamNayKb">@item.FChiTieuNamNayKb</td>
                <td class="FChiTieuNamNayLc">@item.FChiTieuNamNayLc</td>
                <td class="FSumDuToanDuocGiaoNamNay">@item.FSumDuToanDuocGiaoNamNay</td>
                <td class="FSumDuToanDuocGiao">@item.FSumDuToanDuocGiao</td>
                <td class="FSoCapNamTrcCs">@item.FSoCapNamTrcCs</td>
                <td class="FSoCapNamNay">@item.FSoCapNamNay</td>
                <td class="FSumSoDuocCap">@item.FSumSoDuocCap</td>
                <td><input type="text" class="FDnQuyetToanNamTrc" value="@item.FDnQuyetToanNamTrc"></td>
                <td><input type="text" class="FDnQuyetToanNamNay" value="@item.FDnQuyetToanNamNay"></td>
                <td class="FSumSoDeNghiQuyetToan">@item.FSumSoDeNghiQuyetToan</td>
                <td class="FSumKeHoachVonDauTuChuaQuyetToanChuyenNamSau">@item.FSumKeHoachVonDauTuChuaQuyetToanChuyenNamSau</td>
                <td class="FSumTamUngCheDoChuaThuHoi">@item.FSumTamUngCheDoChuaThuHoi</td>
                <td class="FTuChuaThuHoiTaiCuc">@item.FTuChuaThuHoiTaiCuc</td>
                <td class="FTuChuaThuHoiTaiDonVi">@item.FTuChuaThuHoiTaiDonVi</td>
                <td class="FSumDuToanConDuChuaGiaiNgan">@item.FSumDuToanConDuChuaGiaiNgan</td>
                <td class="FDuToanCnsChuaGiaiNganTaiCuc">@item.FDuToanCnsChuaGiaiNganTaiCuc</td>
                <td class="FDuToanCnsChuaGiaiNganTaiDv">@item.FDuToanCnsChuaGiaiNganTaiDv</td>
                <td class="FDuToanCnsChuaGiaiNganTaiKb">@item.FDuToanCnsChuaGiaiNganTaiKb</td>
                <td><input type="text" class="FDuToanThuHoi" value="@item.FDuToanThuHoi"></td>
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        $(".FDnQuyetToanNamTrc").on("change", function (e) {
            fnChangeDnQuyetToanNamTrc(this);
        });

        $(".FDnQuyetToanNamNay").on("change", function (e) {
            fnChangeDnQuyetToanNamNay(this);
        });

        $(".FDuToanThuHoi").on("change", function (e) {
            fnChangeDuToanThuHoi(this);
        });
    });

</script>